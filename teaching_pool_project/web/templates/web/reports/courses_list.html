{% extends "web/base.html" %}
{% load bootstrap4 %}
{% load course_tags %}

{% block maincontent %}
<div class="card">
    <div class="card-body">
        <h4 class="card-title">Base information</h4>
        <p class="card-text">Year: {{ CURRENT_YEAR }}</p>
        <p class="card-text">Term: {{ CURRENT_TERM }}</p>
        <a class="btn btn-primary btn-block" href="{% url "web:download_course_report" %}" role="button"><i class="fa fa-file-excel-o"></i>&nbsp;Download Excel file</a>
    </div>
</div>
<table class="table table-striped table-inverse table-responsive">
    <thead class="thead-inverse">
        <tr>
            <th class="align-top">Code</th>
            <th class="align-top">Subject</th>
            <th class="align-top">Teachers</th>
            <th class="align-top">Form(s)</th>
            <th class="align-top">Language(s)</th>
            <th class="text-right align-top"># Students (prev. year)</th>
            <th class="text-right align-top"># TAs (theory)</th>
            <th class="text-right align-top"># TAs (req)</th>
            <th class="text-right align-top"># TAs (approved)</th>
        </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td scope="row">{{ course.code }}</td>
                <td>{{ course.subject }}</td>
                <td>{{ course|format_teachers }}</td>
                <td>{{ course|format_forms }}</td>
                <td>{{ course|format_languages }}</td>
                <td class="text-right">{{ course.numberOfStudents|default_if_none:"&nbsp;" }}</td>
                <td class="text-right">{{ course.calculatedNumberOfTAs|default_if_none:"&nbsp;" }}</td>
                <td class="text-right">{{ course.requestedNumberOfTAs|default_if_none:"&nbsp;" }}</td>
                <td class="text-right">{{ course.approvedNumberOfTAs|default_if_none:"&nbsp;" }}</td>
</tr>
            {% endfor %}
        </tbody>
</table>
{% endblock maincontent %}
{% block scripts%}
{%endblock scripts%}
